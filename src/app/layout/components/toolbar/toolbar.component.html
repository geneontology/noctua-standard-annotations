<div class="w-full" fxLayout="column" fxLayoutAlign="start stretch">
  @if (isDev || isBeta) {
  <div class="noc-beta-toolbar py-2 flex justify-center align-middle text-[8px] uppercase font-bold"
    [ngClass]="{'noc-dev': isDev, 'noc-beta': isBeta }">
    <div class="noc-description">
      Testing Version. Visit <a class="" href="http://noctua.geneontology.org/" target="_blank">
        Noctua
      </a> for production version
    </div>
  </div>
  }

  <mat-toolbar fxLayout="row" fxLayoutAlign="start center">
    @if (showLoadingBar) {
    <mat-progress-bar class="loading-bar" color="accent" mode="indeterminate"></mat-progress-bar>
    }

    <div class="noc-logo pl-0 h-full" fxLayout="row" fxLayoutAlign="start center" fxFlex="180px">
      <a class="noc-main-logo mr-1" href="{{noctuaConfigService.noctuaUrl}}" target="_blank">
        Noctua
      </a>
      <a class="noc-sub-logo mr-1" href="{{noctuaConfigService.homeUrl}}" target=" _blank">
        Standard Annotations
      </a>
      @if (isDev || isBeta) {
      <small class="text-[12px]">({{betaText}})</small>
      }
    </div>
    <div fxLayout="row" fxLayoutAlign="end center" fxFlex="">
      <div class="noc-br pr-2" fxLayout="row" fxLayoutAlign="start center">
        <a mat-icon-button href="https://github.com/geneontology/go-ontology/issues" target="blank">
          <fa-icon [icon]="['fab', 'github']"></fa-icon>
        </a>
      </div>
      <div class="noc-br px-2" fxLayout="row" fxLayoutAlign="start center">
        <a mat-button class="" [matMenuTriggerFor]="helpMenu">
          Help
        </a>
        <mat-menu #helpMenu="matMenu">
          <a href="https://docs.google.com/document/d/1a5YZBJrnJ9LKJxPVpXk62dJJGpHB2b9zH8-xr_Rm1Vs" target="_blank"
            mat-menu-item>
            Noctua User's Guide
          </a>
        </mat-menu>
      </div>
      <div class="noc-br pr-2" fxLayout="row" fxLayoutAlign="start center">
        @if (noctuaUserService.user) {
        <button mat-button class="noc-name-button" [matMenuTriggerFor]="userMenu">
          <div fxLayout="row" fxLayoutAlign="start center">
            <div class="noc-info" fxLayout="column" fxLayoutAlign="start start">
              <div class="noc-name text-truncate">
                {{noctuaUserService.user.name}}
              </div>
              <div class="noc-group-name text-truncate">
                {{noctuaUserService.user?.group?.label}}
              </div>
            </div>
            <mat-icon>arrow_drop_down</mat-icon>
          </div>
        </button>
        }
        <mat-menu #userMenu="matMenu" class="">
          <a mat-button (click)="logout()" class="red-500-fg w-full" [attr.data-pw]="'noc-logout-button'">
            Logout
          </a>
        </mat-menu>
        @if (!noctuaUserService.user) {
        <div>
          <a mat-button href="{{noctuaConfigService.loginUrl}}" class="noc-login-button"
            [attr.data-pw]="'noc-login-button'">
            Login
          </a>
        </div>
        }
      </div>
    </div>
    <div class="noc-br h-full" fxLayout="row" fxLayoutAlign="start center" fxFlex="180px">
      <div class="noc-logo pl-2" fxLayout="row" fxLayoutAlign="start">
        <a href="http://geneontology.org/" target="_blank">
          <img src="assets/images/logos/go-logo.large.png">
        </a>
      </div>
    </div>
    <div class="noc-bl noc-logo" fxLayout="row" fxLayoutAlign="start">
      <a href="https://www.alliancegenome.org" target="_blank">
        <img src="assets/images/logos/alliance-logo.png">
      </a>
    </div>
  </mat-toolbar>

</div>